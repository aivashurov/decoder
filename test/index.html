
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Decoder Test</title>
</head>
<body>
  <textarea id="input" rows="10" cols="50" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
  <button onclick="decode()">–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
  <textarea id="result" rows="10" cols="50" readonly></textarea>

  <div id="extended-output" style="margin-top: 20px; padding: 15px; background: #f0f0f0; border-radius: 5px; font-size: 13px; white-space: pre-wrap; color: #333;">
    <strong>üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ (—Ç–µ—Å—Ç):</strong>
    <div id="extended-content"></div>
  </div>

  <script>
    function decode() {
      const input = document.getElementById("input").value;
      const lines = input.split("\n");
      const output = [];

      lines.forEach(line => {
        if (!line.trim()) return;

        // üí¨ GDS service message support (SSR / FLIFO / OSI)
        const serviceMatch = line.match(/^(SSR|FLIFO|OSI)\s+(.*?)\s*$/i);
        if (serviceMatch) {
          const type = serviceMatch[1].toUpperCase();
          const content = serviceMatch[2];
          const resultText = `üí¨ –°–ª—É–∂–µ–±–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ [${type}]: ${content}`;
          document.getElementById("extended-content").textContent = resultText;
          return;
        }

        output.push(`${line}`);
      });

      document.getElementById("result").value = output.join("\n");
      if (!document.getElementById("extended-content").textContent) {
        document.getElementById("extended-content").textContent = "–ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–≤–µ–¥–µ–Ω–∏–π.";
      }
    }
  </script>
</body>
</html>
